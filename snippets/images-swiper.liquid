<script src="https://unpkg.com/swiper@8/swiper-bundle.min.js" defer></script>
<script src="{{'swiper.js' | asset_url}}" defer="defer"></script>
{{ 'component-images-swiper.css' | asset_url | stylesheet_tag }}

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
>

{% if content.media.size > 1 %}
  <div class="product__swiper-with-nav">
    <div class="product__images-swiper">
      <div class="swiper js-images-swiper">
        <div class="swiper-wrapper js-swiper-wrapper">
          {% for media in content.media %}
            <div class="swiper-slide">
              {% if media.media_type == 'image' %}
                <img
                  src="{{media | image_url}}"
                  alt="Product image"
                  width="100"
                  height="100"
                  class="product__gallery-img js-swiper-image {%if product.featured_image == media.src%}product__gallery-img_active{%endif%}"
                >

              {% else %}
                {% if media.media_type == 'video' %}
                  <video
                    width="587"
                    height="691"
                    autoplay
                    class="product__gallery-img js-swiper-image {%if product.featured_image == media.src%}product__gallery-img_active{%endif%}"
                  >
                    {% for source in media.sources %}
                      <source
                        src="{{source.url}}"
                        type="{{source.mime_type}}"
                      >
                      Your browser does not support the video tag.
                    {% endfor %}
                  </video>
                {% endif %}
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>

      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
{% endif %}
